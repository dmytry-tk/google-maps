(this["webpackJsonpgoogle-maps"]=this["webpackJsonpgoogle-maps"]||[]).push([[0],{367:function(e,t,n){},389:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(31),i=n.n(o),s=n(157),r=n(33),c=n(158),l=n(1),d=n(61),u=d.compose,m=d.withProps,j=d.withState,h=d.withHandlers,p=d.lifecycle,g=n(165).MarkerClusterer,b=n(323),f=b.withScriptjs,x=b.withGoogleMap,v=b.GoogleMap,O=n(364).MarkerWithLabel,w=n(366).StandaloneSearchBox,C=u(m({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA-gUZ12AVTL5DncTX_ilJAMhwCiocVvjg&v=3.exp&libraries=geometry,drawing,places",loadingElement:Object(l.jsx)("div",{style:{height:"100%"}}),containerElement:Object(l.jsx)("div",{style:{height:"100vh"}}),mapElement:Object(l.jsx)("div",{style:{height:"100%"}})}),j("zoom","onZoomChange",13),h((function(){var e={map:void 0};return{onMapMounted:function(){return function(t){e.map=t}},onZoomChanged:function(e){e.onZoomChange;return function(){}}}})),p({componentWillMount:function(){var e=this,t={};this.setState({places:[],onSearchBoxMounted:function(e){t.searchBox=e},onPlacesChanged:function(){var n=t.searchBox.getPlaces();e.setState({places:n})}})}}),f,x)((function(e){return Object(l.jsx)(S,Object(c.a)({},e))})),S=function(e){var t=Object(a.useState)({lat:-33.91075134,lng:151.19416809}),n=Object(r.a)(t,2),o=n[0],i=n[1],s=Object(a.useRef)({getPlaces:function(){}}),c=Object(a.useState)({}),d=Object(r.a)(c,2),u=d[0],m=d[1],j=e.fetchVideos,h=function(){var e=u.getCenter().lat(),t=u.getCenter().lng();return{zoom:u.getZoom(),center:{lat:e,lng:t},visible_area:u.getBounds()}};return Object(l.jsxs)(v,{defaultCenter:{lat:-33.91075134,lng:151.19416809},center:o,zoom:e.zoom,onDragEnd:function(){return j(h())},options:{minZoom:2,maxZoom:18},ref:m,onZoomChanged:function(){j(h())},children:[Object(l.jsx)("div",{"data-standalone-searchbox":"",children:Object(l.jsx)(w,{ref:function(t){e.onSearchBoxMounted(t),s.current=t},bounds:e.bounds,onPlacesChanged:function(){var e=s.current.getPlaces()[0].geometry.location.lat(),t=s.current.getPlaces()[0].geometry.location.lng();j(h()),i({lat:e,lng:t})},children:Object(l.jsx)("input",{type:"text",placeholder:"Customized your placeholder",style:{boxSizing:"border-box",position:"fixed",zIndex:"100",top:"0",left:"50%",margin:"10px",transform:"translateX(-50%)",border:"1px solid transparent",width:"240px",height:"32px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses"}})})}),Object(l.jsx)(g,{averageCenter:!0,clusterClass:"cluster-videos",gridSize:60,children:e.videos.map((function(e,t){return Object(l.jsx)(k,{marker:e},t)}))})]})},k=function(e){var t=e.marker,n=Object(a.useState)(!1),o=Object(r.a)(n,2),i=o[0],s=o[1],c={url:t.UserPhoto,scaledSize:new google.maps.Size(40,40),origin:new google.maps.Point(0,0)};return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(O,{icon:c,zIndex:100,onMouseOut:function(){return s(!1)},onMouseOver:function(){return s(!0)},defaultClickable:!0,defaultDraggable:!0,clickable:!0,labelClass:"marker-label ".concat(i?"active":""),position:{lat:+t.lat,lng:+t.lng},labelAnchor:new google.maps.Point(110,-10),children:Object(l.jsxs)("div",{className:"marker-label-content zF",children:[Object(l.jsx)("div",{className:"info-item",children:Object(l.jsx)("div",{className:"img",children:Object(l.jsx)("img",{src:t.UserPhoto,alt:"user image"})})}),Object(l.jsxs)("div",{className:"info-item",children:["Category: ",Object(l.jsx)("span",{className:"info-item-value",children:t.category})]}),Object(l.jsxs)("div",{className:"info-item",children:["Likes: ",Object(l.jsx)("span",{className:"info-item-value",children:t.likes})]}),Object(l.jsxs)("div",{className:"info-item",children:["Dislikes: ",Object(l.jsx)("span",{className:"info-item-value",children:t.dislikes})]}),Object(l.jsxs)("div",{className:"info-item",children:["Link:",Object(l.jsx)("a",{href:t.pageUrl,className:"info-item-value link",children:t.pageUrl})]}),Object(l.jsxs)("div",{className:"info-item",children:["Views: ",Object(l.jsx)("span",{className:"info-item-value",children:t.views_count})]}),Object(l.jsxs)("div",{className:"info-item",children:["Created: ",Object(l.jsx)("span",{className:"info-item-value",children:t.createdHumanTiming})]})]})})})},y=(n(367),n(87)),z=n.n(y),N=n(154),M=n(155),P=n.n(M),B=function(){var e=Object(N.a)(z.a.mark((function e(){var t,n,a,o=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:Z,n={method:"post",url:"https://api.social-media.in.ua/api/v1/getVideoByLocation.php ",headers:{"Content-Type":"application/json",Authorization:"Bearer a22ade17030f9db1fe315d33f51bbb0d"},data:t},e.next=4,P()(n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z={zoom:4,center:{lat:-77.03639984,lng:38.89509964},visible_area:{east:151.38488387979493,north:-33.80019965154349,south:-34.046054863759636,west:151.01066207803711}};var A=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],o=t[1];Object(a.useEffect)((function(){i()}),[]);var i=function(e){B(e).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data;return o(t.videos)}))};return n?Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(C,{videos:n,fetchVideos:i})}):""};i.a.render(Object(l.jsx)(s.a,{children:Object(l.jsx)(A,{})}),document.getElementById("root"))}},[[389,1,2]]]);
//# sourceMappingURL=main.d6f2c502.chunk.js.map